<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ribo centre - Markers</title>
  <meta name="description" content="Ribo centre -- Markers">
  <link rel="stylesheet" href="http://localhost:4000/css/main.css">
  <link rel="canonical" href="http://localhost:4000/markers/">
<link rel="shortcut icon" type ="image/x-icon" href="http://localhost:4000/images/favicon.ico">



</head>


  <body>

    <div class="navbar-expand-lg navbar-dark" style='background-color: #333333; border-radius: 0; margin-bottom: 0; border: 0; height: 30px;' role="navigation">
  <div class="container-fluid" style='height: 30px; max-width: 1000px;'>
	  <ul class="nav navbar-nav navbar-right" style='height: 30px;'>
		<li><a style='display: inline; padding: 15px 15px 5px 5px; line-height: 30px;' class="nav-link-0" href="http://www.gznl.org/">
			<img src="http://localhost:4000/images/header/home.svg" style='height: 20px; width: auto; margin: 0;'>
			Home</a></li>
		<li><a style='display: inline; padding: 15px 15px 5px 5px; line-height: 30px;' class="nav-link-0" href="https://www.gznl.org/database/">
			<img src="http://localhost:4000/images/header/database.svg" style='height: 20px; width: auto; margin: 0;'>
			Database</a></li>
		<li><a style='display: inline; padding: 15px 15px 5px 5px; line-height: 30px;' class="nav-link-0" href="https://www.gznl.org/research/">
			<img src="http://localhost:4000/images/header/research.svg" style='height: 20px; width: auto; margin: 0;'>
			Research</a></li>
		<li><a style='display: inline; padding: 15px 15px 5px 5px; line-height: 30px;' class="nav-link-0" href="https://www.gznl.org/aboutus/">
			<img src="http://localhost:4000/images/header/aboutus.svg" style='height: 20px; width: auto; margin: 0;'>
			About us</a></li>
		<li><a style='display: inline; padding: 15px 15px 5px 5px; line-height: 30px;' class="nav-link-0" href="https://gzlab.ac.cn/">
			GZNL-RDC
			<img src="http://localhost:4000/images/header/gznl2.svg" style='height: 20px; width: auto; margin: 0;'>
			</a></li>
	  </ul>
  </div>
</div>

<!--
  <div class="search-container">
    <p class="search-text">Search for something:</p>
    <div class="search-box">
      <input type="text" placeholder="Search...">
    </div>
    <p class="additional-text">Additional text here...</p>
  </div>

  <div class="background-image">
    <img src="http://localhost:4000/images/Picture-1.jpg" style='width: 100%; border-radius: 0; margin-top: 0; margin-bottom: 0;'>
  </div>
-->

<div class="full-width-image">
  <img src="http://localhost:4000/images/homePage/Background.png" class="img-fluid" alt="Responsive image">
</div>

<style>
	.full-width-image {
	  background-color: #EC7102; /* 设置背景颜色为黄色 */
	  display: flex;
	  justify-content: flex-end; /* 图片右对齐 */
	}
	
	.full-width-image img {
	  height: 300px;
	  border-radius: 0;
	  margin-top: 0;
	  margin-bottom: 0;
	}
</style>

<div class="navbar navbar-expand-lg navbar-dark bg-primary" style='border-radius: 0; border: 0;' role="navigation">

  <div class="container-fluid" style='max-width: 1200px;'>
	<div class="navbar-header">
	  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1" aria-expanded="false">
		<span class="sr-only">Toggle navigation</span>
		<span class="icon-bar"></span>
		<span class="icon-bar"></span>
		<span class="icon-bar"></span>
	  </button>
	
    <a class="navbar-brand" href="http://localhost:4000/">
		
		<img class="navbar-brand" src="http://localhost:4000/images/header/logo.svg" style='height:50px;margin-top:-14px;margin-bottom:0;padding:2px 2px;border-radius: 0;' alt="logo">
		<b style='font-size: 32px; color: #eeeeee;'>RespiratoryCellAtlas</b>
	</a>
	</div>
	<div class="collapse navbar-collapse" id="navbar-collapse-1">
	  <ul class="nav navbar-nav navbar-right">
		<li><a class="nav-link-1" href="http://localhost:4000/"><b>Home</b></a></li>
		<li><a class="nav-link-1" href="http://localhost:4000/dataviewer"><b>Data Viewer</b></a></li>
		<li><a class="nav-link-1" href="http://localhost:4000/portrait"><b>Portrait</b></a></li>
		<li class="dropdown">
			<a href="#" class="dropdown-toggle nav-link-1" data-toggle="dropdown">
				<b>Gene</b> <span class="caret"></span>
			</a>
			<ul class="dropdown-menu">
				<li><a class="nav-link-1" style="color: #BF5701;" href="http://localhost:4000/markers"><b>Markers</b></a></li>
				<li><a class="nav-link-1" style="color: #BF5701;" href="http://localhost:4000/regiondeg"><b>Region DEG</b></a></li>
				<li><a class="nav-link-1" style="color: #BF5701;" href="http://localhost:4000/celltypedeg"><b>CellType DEG</b></a></li>
			</ul>
		<li><a class="nav-link-1" href="http://localhost:4000/exploration"><b>Exploration</b></a></li>
		<li><a class="nav-link-1" href="http://localhost:4000/database"><b>Database</b></a></li>
		<li><a class="nav-link-1" href="http://localhost:4000/Helps"><b>Help</b></a></li>
		<li><a class="nav-link-1" href="http://localhost:4000/contact"><b>Contact</b></a></li>
	  </ul>
	</div>
  </div>
</div>


    <div class="container-fluid">
      <div class="row">
          <div id="homeid" class="col-sm-12">
	<!-- <head>
<script src="https://cdn.plot.ly/plotly-2.30.0.min.js" charset="utf-8"></script>
</head>

<div id="tester" style="width:600px;height:250px;"></div>

<script>
	TESTER = document.getElementById('tester');
	Plotly.newPlot( TESTER, [{
	x: [1, 2, 3, 4, 5],
	y: [1, 2, 4, 8, 16] }], {
	margin: { t: 0 } } );
</script> -->

<div class="container">
  <p>ATLAS</p>
  <div class="row">

    <div class="col-lg-3 text-center">
      <div class="img-circle card photo-card card-clickable" onclick="handleClick('Adult',this)">
        <p><img src="http://localhost:4000/images/homePage/nose-pharynx.png" class="rounded-circle" /></p>
      </div>
      <div>
        <p class="text-center" style="margin-top: 16px;">
<b style="font-size: 24px;">
Nose and pharynx
</b>
</p>
      </div>
    </div>

    <div class="col-lg-3 text-center">
      <div class="img-circle card photo-card card-clickable" onclick="handleClick('Fetal',this)">
        <p><img src="http://localhost:4000/images/homePage/airway.png" class="rounded-circle" /></p>
      </div>
      <div>
        <p class="text-center" style="margin-top: 16px;">
<b style="font-size: 24px;">
<a href="#" onclick="showImage0('http://localhost:4000/images/homePage/Fetal.png'); return false">Airway</a>
</b>
</p>
      </div>
    </div>

    <div class="col-lg-3 text-center">
      <div class="img-circle card photo-card card-clickable" onclick="handleClick('Organoid',this)">
        <p><img src="http://localhost:4000/images/homePage/lung.png" class="rounded-circle" /></p>
      </div>
      <div>
        <p class="text-center" style="margin-top: 16px;">
<b style="font-size: 24px;">
<a href="#" onclick="showImage0('http://localhost:4000/images/homePage/Tumour.png'); return false">Lung</a>
</b>
</p>
      </div>
    </div>

    <div class="col-lg-3 text-center">
      <div class="img-circle card photo-card card-clickable" onclick="handleClick('Tumour',this)">
        <p><img src="http://localhost:4000/images/homePage/airway.png" class="rounded-circle" /></p>
      </div>
      <div>
        <p class="text-center" style="margin-top: 16px;">
<b style="font-size: 24px;">
<a href="#" onclick="showImage0('http://localhost:4000/images/homePage/Fetal.png'); return false">Airway</a>
</b>
</p>
      </div>
    </div>

  </div>
</div>

<p><button id="buttonA" onclick="changeOrder('A')">A</button>
<button id="buttonB" onclick="changeOrder('B')">B</button>
<select id="selectBox1" onchange="handleSelectChange()"></select>
<select id="selectBox2" onchange="handleSelectChange()"></select></p>

<p><button onclick="displaySelectedImage();displaySelectedTable();">显示选择的照片</button>
<img id="selectedImage" src="" alt="Selected Image" /></p>

<div id="csvTableContainer"></div>

<script>
  var selectedImageId = null;
  var selectedOptions = [];
  var selectedButton = null;
  var selectBox1 = document.getElementById('selectBox1');
  var selectBox2 = document.getElementById('selectBox2');
  var originalOrder = true;
  var clickedCard = null;

  function handleClick(imageId,card) {
    if (clickedCard !== null) {
    clickedCard.classList.remove("clicked");
  }
    card.classList.add("clicked");
    clickedCard = card;
    selectedImageId = imageId;
    selectedOptions = [];

    fetch('http://localhost:4000/js/genepage/RegionDEG.json')
      .then(response => response.json())
      .then(data => {
        var options = data[imageId];
        updateSelectBoxOptions('selectBox1', options);
      })
      .catch(error => {
        console.error('Error:', error);
      });

    fetch('http://localhost:4000/js/genepage/CellTypeDEG.json')
      .then(response => response.json())
      .then(data => {
        var options = data[imageId];
        updateSelectBoxOptions('selectBox2', options);
      })
      .catch(error => {
        console.error('Error:', error);
      });
  }

  function handleSelectChange() {
    var selectBox1 = document.getElementById('selectBox1');
    var selectBox2 = document.getElementById('selectBox2');

    var option1 = selectBox1.options[selectBox1.selectedIndex].value;
    var option2 = selectBox2.options[selectBox2.selectedIndex].value;

    selectedOptions = [option1, option2];
  }

function displaySelectedImage() {
  if (selectedImageId !== null && selectedOptions.length === 2) {
    var imageName;
    if (selectedButton === 'A') {
      imageName = selectedImageId + '_' + encodeURIComponent(selectedOptions[0]) + '_' + encodeURIComponent(selectedOptions[1]) + '.png';
    var imagePath = 'https://data.braincellatlas.org/volcano/VolcanoByRegion/' + imageName;
    } else if (selectedButton === 'B') {
      imageName = selectedImageId + '_' + encodeURIComponent(selectedOptions[1]) + '_' + encodeURIComponent(selectedOptions[0]) + '.png';
    var imagePath = 'https://data.braincellatlas.org/volcano/VolcanoByCellType/' + imageName;
    }
    /* var imagePath = 'http://localhost:4000/images/markerPage/volcano/' + imageName; */
    // 在此处显示照片，例如：
    var imageElement = document.getElementById('selectedImage');
    imageElement.src = imagePath;
    console.log('Selected Image:', imagePath);
  } else {
    console.log('Please select an image and options.');
  }
}

/* function displaySelectedTable() {
  if (selectedImageId !== null && selectedOptions.length === 2) {
    var tableName;
    if (selectedButton === 'A') {
      tableName = selectedImageId + '_' + encodeURIComponent(selectedOptions[0]) + '_' + encodeURIComponent(selectedOptions[1]) + '.csv';
    var tablePath = 'https://data.braincellatlas.org/volcano/VolcanoByRegion/' + tableName;
    } else if (selectedButton === 'B') {
      tableName = selectedImageId + '_' + encodeURIComponent(selectedOptions[1]) + '_' + encodeURIComponent(selectedOptions[0]) + '.csv';
    var tablePath = 'https://data.braincellatlas.org/volcano/VolcanoByCellType/' + tableName;
    }
    else {
    console.log('Please select an image and options.');
  }
    var xhr = new XMLHttpRequest();
    xhr.open('GET', csvFilePath, true);
    xhr.onreadystatechange = function() {
      if (xhr.readyState === 4 && xhr.status === 200) {
        var csvData = xhr.responseText;
        var tableContainer = document.getElementById('csvTableContainer');

        // 解析 CSV 数据
        var rows = csvData.split('\n');
        var tableHtml = '<table>';
        for (var i = 0; i < rows.length; i++) {
          var cells = rows[i].split(',');
          tableHtml += '<tr>';
          for (var j = 0; j < cells.length; j++) {
            if (i === 0) {
              tableHtml += '<th>' + cells[j] + '</th>';
            } else {
              tableHtml += '<td>' + cells[j] + '</td>';
            }
          }
          tableHtml += '</tr>';
        }
        tableHtml += '</table>';

        // 将表格插入到页面中
        tableContainer.innerHTML = tableHtml;
      }
    };
    xhr.send();
} */
function displaySelectedTable() {
  if (selectedImageId !== null && selectedOptions.length === 2) {
    var tableName;
    var tablePath;

    if (selectedButton === 'A') {
      tableName = selectedImageId + '_' + encodeURIComponent(selectedOptions[0]) + '_' + encodeURIComponent(selectedOptions[1]) + '.csv';
      tablePath = 'https://data.braincellatlas.org/volcano/VolcanoByRegion/' + tableName;
    } else if (selectedButton === 'B') {
      tableName = selectedImageId + '_' + encodeURIComponent(selectedOptions[1]) + '_' + encodeURIComponent(selectedOptions[0]) + '.csv';
      tablePath = 'https://data.braincellatlas.org/volcano/VolcanoByCellType/' + tableName;
    } else {
      console.log('Please select an image and options.');
      return; // 结束函数的执行
    }

    console.log('Table Path:', tablePath);

    var xhr = new XMLHttpRequest();
    xhr.open('GET', tablePath, true);
    xhr.onreadystatechange = function() {
      if (xhr.readyState === 4 && xhr.status === 200) {
        var csvData = xhr.responseText;
        console.log('CSV Data:', csvData);

        var tableContainer = document.getElementById('csvTableContainer');

        // 解析 CSV 数据
        var rows = csvData.split('\n');
        var tableHtml = '<table>';
        for (var i = 0; i < rows.length; i++) {
          var cells = rows[i].split(',');
          tableHtml += '<tr>';
          for (var j = 0; j < cells.length; j++) {
            if (i === 0) {
              tableHtml += '<th>' + cells[j] + '</th>';
            } else {
              tableHtml += '<td>' + cells[j] + '</td>';
            }
          }
          tableHtml += '</tr>';
        }
        tableHtml += '</table>';

        // 将表格插入到页面中
        tableContainer.innerHTML = tableHtml;
      }
    };
    xhr.send();
  } else {
    console.log('Please select an image and options.');
  }
}


  function updateSelectBoxOptions(selectBoxId, options) {
    var selectBox = document.getElementById(selectBoxId);
    selectBox.innerHTML = generateOptionsHtml(options);
  }

  function generateOptionsHtml(options) {
    var optionsHtml = '';
    for (var i = 0; i < options.length; i++) {
      optionsHtml += '<option value="' + options[i] + '">' + options[i] + '</option>';
    }
    return optionsHtml;
  }
  function changeOrder(button) {
    if (button === 'A') {
      selectedButton = button;
      originalOrder = true;
      resetSelectBoxes();
    } else if (button === 'B') {
      selectedButton = button;
      originalOrder = false;
      resetSelectBoxes();
    }
  }

  function resetSelectBoxes() {
    if (originalOrder) {
      selectBox1.parentNode.insertBefore(selectBox1, selectBox2);
    } else {
      selectBox2.parentNode.insertBefore(selectBox2, selectBox1);
    }
  }

</script>

<script>
function showImage0(photoName) {
    var photoElement = document.getElementById('photo');
    photoElement.src = photoName;
    photoElement.alt = photoName;
  }
</script>

<style>
  .image-container {
    max-width: 100%;
    max-height: 100%;
    background-color: none;
    justify-content: center;
    align-items: center;
    box-shadow: none;
  }
  
  .image-container img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }
  .container {
  background-color: #f0f0f0; /* 设置背景颜色为您想要的颜色值 */
  border-radius: 10px; /* 设置边框圆角的半径，可以根据需要进行调整 */
  padding: 10px; /* 可选：添加内边距以增加内容与边框之间的间距 */
}
</style>

<style>
    .photo-card {
/*         width: 200px;
        height: 200px; */
        border: 10px solid #ccc; 
        overflow: hidden;
        border-radius: 50%;
        position: relative;
        background-size: cover;
 /*        display: flex;  
        justify-content: right; /* 水平居中对齐 */
        /* align-items: right;  */
    }
    .photo-card:hover img {
        transform: scale(1.1);
    }
    .photo-card img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s;
    }
    .photo-card.clicked {
        border-color: #EE993A;
    }
</style>

<!-- <script>
  var clickedCard = null;

  function handleClick(card) {
    if (clickedCard !== null) {
      clickedCard.classList.remove("clicked");
    }

    card.classList.add("clicked");
    clickedCard = card;
  }
</script> -->


  </div>

      </div>
    </div>

    <div id="footer" class="panel">
  <div class="panel-footer" style='background-color: #333333; color: #eeeeee;'>
	<div class="container-fluid">
	  <div class="row">
		<div class="col-sm-4">
			
		  <p>&copy 2024 GZNL-RDC. </p>
		  <p>We are part of the <a href="https://gzlab.ac.cn">Guangzhou Laboratory</a> and <a href="http://www.rnacentre.org/">RNAcentre</a>.</p>
		  <p>Site made with <a href="https://jekyllrb.com">Jekyll</a>;  <a href="http://localhost:4000/aboutwebsite.html">copy and  modify it for your own research group.</a></p>
		  <p>  </p>
		  <p>  </p>
		</div>
		
		<div class="col-sm-4">
		  Funding:<br />
          - <a href="https://gzlab.ac.cn">R&D Programs of Guangzhou Laboratory</a><br />
          - <a href="http://www.most.gov.cn/">MOST IT+BT projects</a> <br />
          - <a href="https://www.nsfc.gov.cn/">NSFC</a> <br />	  
		</div>
		
		<div class="col-sm-4">
		  Contact:<br />
		  Building B2, Guangzhou National Laboratory<br />
		  96 Xingdao South Road, Guangzhou International Bio Island, <br />
		  Haizhu District, Guangzhou, Guangdong, China.<br />
          (<a href="https://goo.gl/maps/hDLr6siEAS2Eaypt8">Maps</a>)
		</div>
	  </div>
	</div>
  </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="http://localhost:4000/js/bootstrap.min.js"></script>


  </body>

</html>
